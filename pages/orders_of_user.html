<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Đơn hàng của tôi | TechsphereShop</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="../assets/css/user.css" />
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <a href="../pages/index.html" class="logo">Techsphere<span
            style="font-family: 'Orbitron', Arial, sans-serif !important;"> | Tài khoản</span></a>
        <div class="user-nav">
          <a href="../pages/cart.html" class="cart-icon" data-count="0"><i class="fas fa-shopping-cart"></i> Giỏ
            hàng</a>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="profile-container">
      <aside class="profile-sidebar">
        <div class="user-info">
          <div class="avatar-container">
            <div class="avatar-wrapper">
              <img id="avatarImage" src="../images/default-avatar.jpg" alt="User Avatar" />
              <div class="avatar-overlay">
                <button class="change-avatar-btn" id="changeAvatarBtn">
                  <i class="fas fa-camera"></i> Đổi ảnh
                </button>
              </div>
            </div>
            <input type="file" id="avatarInput" accept="image/*" style="display: none;" />
          </div>
          <h3 id="userName"></h3>
          <p id="memberSince">Thành viên từ: 7/2025</p>
        </div>

        <nav class="profile-menu">
          <ul>
            <li><a href="../pages/user.html"><i class="fas fa-user"></i> Thông tin cá nhân</a></li>
            <li class="active"><a href="../pages/orders_of_user.html"><i class="fas fa-box"></i> Đơn hàng của tôi</a></li>
            <li><a href="../pages/product-favorite.html"><i class="fas fa-heart"></i> Sản phẩm yêu thích</a></li>
            <li><a href="../pages/notify.html"><i class="fas fa-bell"></i> Thông báo</a></li>
            <li><a href="../pages/index.html" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> Đăng xuất</a></li>
          </ul>
        </nav>
      </aside>

      <section class="profile-content">
        <div class="profile-header">
          <h2 class="section-title">Đơn hàng của tôi</h2>
        </div>

        <div class="search-filter-section">
          <!-- Row 1: Search bar -->
          <div class="search-bar-row">
            <div class="search-input-group">
              <i class="fas fa-search search-icon"></i>
              <input 
                type="text" 
                id="searchInput" 
                placeholder="Tìm kiếm theo mã đơn hàng, tên sản phẩm..."
                class="search-input"
              >
              <button class="search-btn-inside" id="searchOrders" type="button">Tìm kiếm</button>
            </div>
          </div>
          <!-- Row 2: Filters -->
          <div class="filter-row">
            <div class="filter-group">
              <select id="timeFilter" class="filter-select">
                <option value="all">Tất cả thời gian</option>
                <option value="3months">3 tháng gần đây</option>
                <option value="6months">6 tháng gần đây</option>
                <option value="2025">Năm 2025</option>
                <option value="2024">Năm 2024</option>
              </select>
            </div>
            <div class="filter-group">
              <select id="statusFilter" class="filter-select">
                <option value="all">Tất cả trạng thái</option>
                <option value="0">Chưa giao hàng</option>
                <option value="1">Đã giao hàng</option>
                <option value="2">Đã từ chối</option>
              </select>
            </div>
            <button class="btn btn-outline clear-filters-btn" id="clearFilters" type="button">
              <i class="fas fa-times"></i> Xóa bộ lọc
            </button>
          </div>
        </div>

        <div id="ordersLoading" class="orders-loading hidden">
          <div class="spinner"></div>
          <span>Đang tải dữ liệu...</span>
        </div>

        <div class="orders-list" id="ordersList">
          <!-- Đơn hàng sẽ được render tại đây -->
        </div>

        <div class="empty-orders hidden" id="emptyOrders">
          <i class="fas fa-box-open"></i>
          <p>Bạn chưa có đơn hàng nào</p>
          <a href="../pages/product.html" class="btn btn-primary">Mua sắm ngay</a>
        </div>

        <div class="pagination" id="paginationWrapper">
          <button class="btn btn-outline" disabled id="prevPage">
            <i class="fas fa-chevron-left"></i> Trước
          </button>
          <span class="page-info" id="pageInfo">Trang 1/1</span>
          <button class="btn btn-outline" id="nextPage">
            Sau <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </section>
    </div>
  </main>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h4>Về chúng tôi</h4>
          <ul>
            <li><a href="#">Giới thiệu</a></li>
            <li><a href="#">Tuyển dụng</a></li>
            <li><a href="#">Liên hệ</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Hỗ trợ khách hàng</h4>
          <ul>
            <li><a href="#">Hướng dẫn mua hàng</a></li>
            <li><a href="#">Chính sách đổi trả</a></li>
            <li><a href="#">Câu hỏi thường gặp</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Kết nối với chúng tôi</h4>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2023 TechsphereShop. Tất cả các quyền được bảo lưu.</p>
      </div>
    </div>
  </footer>
  <script src="../assets/js/auth.js"></script>
  <script src="../assets/js/user.js"></script>
  <script src="../assets/js/product_of_user.js"></script>
</body>
</html>
